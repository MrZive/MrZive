<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bjsxt.dataOut.project">

	<select id="getProjectCooperationConsumption" parameterType="com.bjsxt.dataOut.entity.ProjectCooperationConsumption" resultType="com.bjsxt.dataOut.entity.ProjectCooperationConsumption">
		SELECT
        id,
        consumption_id consumptionId,
        member_card_id memberCardId,
        payment,
        bank_card_pay bankcardPay,
        cash_pay cashPay,
        create_date createDate,
        owe,
        status,
        store_pay storePay,
        is_book isBook,
        effective_earn effectiveEarn,
        real_payment realPayment,
        remark,
        is_fail isFail,
        shopid shopId,
        buy_owe buyOwe,
        buy_type buyType,
        activity_id activityId,
        adviser,
        cosmetologist,
        cosmetologist2,
        cosmetologist3
        FROM
		shop_s_consumption_cooperation_project
		<where>
			<if test="id != null">
				AND id = #{id}
			</if>
			<if test="consumptionId != null">
				AND consumption_id = #{consumptionId}
			</if>
			<if test="memberCardId != null">
				AND member_card_id = #{memberCardId}
			</if>
			<if test="isFail != null">
				AND is_fail = #{isFail}
			</if>
		</where>
	</select>


	<select id="getProjectCooperationDetailConsumption" parameterType="com.bjsxt.dataOut.entity.ProjectCooperationDetailConsumption" resultType="com.bjsxt.dataOut.entity.ProjectCooperationDetailConsumption">
		SELECT
		id,
        consumption_id consumptionId,
        consumption_cooperation_id consumptionCooperationId,
        activity_id activityId,
        cooperation_id cooperationId,
        consumption_set_id consumptionSetId,
        member_card_id memberCardId,
        buy_number buyNumber,
        unit,
        sort,
        left_number leftNumber,
        status,
        is_fail isFail,
        shopid shopId,
        coupon,
        consumption_date consumptionDate,
        price,
        left_earn leftEarn,
        left_store_earn leftStoreEarn,
        channel_id channelId,
        buy_type buyType
		FROM
		shop_s_consumption_cooperation_project_detail
		<where>
			<if test="id != null">
				AND id = #{id}
			</if>
			<if test="consumptionId != null">
				AND consumption_id = #{consumptionId}
			</if>
			<if test="consumptionCooperationId != null">
				AND consumption_cooperation_id = #{consumptionCooperationId}
			</if>
			<if test="consumptionSetId != null">
				AND consumption_set_id = #{consumptionSetId}
			</if>
			<if test="memberCardId != null">
				AND member_card_id = #{memberCardId}
			</if>
		</where>
	</select>

	
	
	<select id="getProjectCooperationDone" parameterType="com.bjsxt.dataOut.entity.ProjectCooperationDone" resultType="com.bjsxt.dataOut.entity.ProjectCooperationDone">
		SELECT
        id,
        consumption_id consumptionId,
        detail_id detailId,
        service_date serviceDate,
        service_number serviceNumber,
        remark,
        is_fail isFail,
        create_date createDate,
        service_shop_id serviceShopId,
        share_left_earn shareLeftEarn,
        price,
        service_company serviceCompany,
        percent,
        first_earn firstEarn,
        is_count_comsume isCountComsume,
        doctor,
        nurse
        remark
        FROM shop_s_consumption_cooperation_project_done
        <where>
        	<if test="id != null">
        		AND id = #{id}
        	</if>
        	<if test="consumptionId != null">
        		AND consumption_id = #{consumptionId}
        	</if>
        	<if test="detailId != null">
        		AND detail_id = #{detailId}
        	</if>
        	<if test="serviceShopId != null">
        		AND service_shop_id = #{serviceShopId}
        	</if>
        	<if test="isFail != null">
        		AND is_fail = #{isFail}
        	</if>
        </where>
    </select>

</mapper>